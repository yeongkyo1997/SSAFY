<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style></style>
  </head>
  <body>
    <script>
      console.dir(fetch);
      // fetch('url', {method: 'GET', headers: {}}).then((response) => {
      // promise는 무엇인가?
      // 1. 비동기적으로 값을 반환하는 객체
      // 2. 콜백지옥을 해결하기 위해 등장한 객체
      // Promise 객체는 ES6에서 등장한 객체
      // 비동기 연산이 종료된 이후의 결과값이나 에러를 전달하기 위해 사용
      // Promise를 이용하면 비동기 메서드를 동기 메서드처럼 사용할 수 있다.
      // executor: 비동기 연산을 수행하는 함수
      // resolve: 비동기 연산이 성공적으로 완료되었을 때 호출되는 함수
      // reject: 비동기 연산이 실패했을 때 호출되는 함수

      console.log("start");
      const p = new Promise((resolve, reject) => {
        console.log("executor 실행");
        // 성공시 resolve 함수 실행
        resolve("성공");
        // 실패시 reject 함수 실행
        reject("실패");
      })
        .then((data) => {
          console.log(data);
          return data;
        })
        .then((data) => {
          console.log(data);
          return data;
        })
        .catch((data) => {
          console.log(data);
        });
      console.log("end");
    </script>
  </body>
</html>
